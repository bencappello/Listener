<% var bandN = song.escape('band_name') %>
<% var bandU = '#/bands/' + song.escape('band_id') %>
<% var blogN = song.escape('blog_name') %>
<% var blogU = '#/blogs/' + song.escape('blog_id') %>
<% var songN = song.escape('name') %>
<% var songU = '#/songs/' + song.id %>
<% var favorites = Listener.currentUser.favoriteSongs() %>
<% var creatorN = song.escape('creator_name') %>
<% var creatorU = '#/users/' + song.escape('user_id') %>

<section class='list-song'>
  <a href="<%= songU %>"><img class='thumbnail' src="<%= song.get("image_url") %>"></a>
  <h2>
    <a class='underline-link blue' href="<%= bandU %>"><%= bandN %></a> -
    <a class='underline-link blue' href="<%= songU %>"><%= songN %></a>
  </h2>
  <h4>Added <%= song.postTime() %> by <a class='underline-link blue' href="<%= creatorU %>"><strong><%= creatorN %></strong></a>
    , Playlist: <a class='underline-link blue' href="<%= blogU %>"><strong><%= blogN %></strong></a></h4>

  <section id='song-list-controls'>
    <span id='favorite-count'><%= song.escape('favoriters_count') %></span>
    <button
      class="favorite <%= _.contains(favorites.pluck('id'), song.id) ? 'unfavorite' : "" %>">
    </button>
    <button id="play-btn"></button>
  </section>


  <br>
  <label>Genres</label>
  <ul class='genres-list group'>
    <% song.get('tag_names').forEach(function (tagName) { %>
      <li class='genre'><%= tagName %></li>
    <% }) %>
  </ul>
</section>
